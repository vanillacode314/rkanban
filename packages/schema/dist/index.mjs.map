{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import { z } from 'zod';\n\nconst messageSchema = z.discriminatedUnion('type', [\n\tz.object({\n\t\ttype: z.literal('publish'),\n\t\titem: z.discriminatedUnion('type', [\n\t\t\tz.object({\n\t\t\t\ttype: z.literal('create'),\n\t\t\t\ttable: z.string(),\n\t\t\t\tid: z.string(),\n\t\t\t\tdata: z.record(z.string(), z.unknown())\n\t\t\t}),\n\t\t\tz.object({\n\t\t\t\ttype: z.literal('update'),\n\t\t\t\ttable: z.string(),\n\t\t\t\tid: z.string(),\n\t\t\t\tdata: z.record(z.string(), z.unknown())\n\t\t\t}),\n\t\t\tz.object({\n\t\t\t\ttype: z.literal('delete'),\n\t\t\t\ttable: z.string(),\n\t\t\t\tid: z.string()\n\t\t\t})\n\t\t])\n\t}),\n\tz.object({ type: z.literal('subscribe') })\n]);\ntype TMessage = z.infer<typeof messageSchema>;\n\nexport { messageSchema };\nexport type { TMessage };\n"],"mappings":"AAAA,OAAS,KAAAA,MAAS,MAElB,IAAMC,EAAgBD,EAAE,mBAAmB,OAAQ,CAClDA,EAAE,OAAO,CACR,KAAMA,EAAE,QAAQ,SAAS,EACzB,KAAMA,EAAE,mBAAmB,OAAQ,CAClCA,EAAE,OAAO,CACR,KAAMA,EAAE,QAAQ,QAAQ,EACxB,MAAOA,EAAE,OAAO,EAChB,GAAIA,EAAE,OAAO,EACb,KAAMA,EAAE,OAAOA,EAAE,OAAO,EAAGA,EAAE,QAAQ,CAAC,CACvC,CAAC,EACDA,EAAE,OAAO,CACR,KAAMA,EAAE,QAAQ,QAAQ,EACxB,MAAOA,EAAE,OAAO,EAChB,GAAIA,EAAE,OAAO,EACb,KAAMA,EAAE,OAAOA,EAAE,OAAO,EAAGA,EAAE,QAAQ,CAAC,CACvC,CAAC,EACDA,EAAE,OAAO,CACR,KAAMA,EAAE,QAAQ,QAAQ,EACxB,MAAOA,EAAE,OAAO,EAChB,GAAIA,EAAE,OAAO,CACd,CAAC,CACF,CAAC,CACF,CAAC,EACDA,EAAE,OAAO,CAAE,KAAMA,EAAE,QAAQ,WAAW,CAAE,CAAC,CAC1C,CAAC","names":["z","messageSchema"]}